# 博客网站需求分析文档

## 1. 项目背景与目标
- **项目背景**：创建一个集博客文章发布和工具分享于一体的综合性平台，参考网站：https://www.30aitool.com/
- **项目目标**：提供一个稳定、高效、易用的博客平台，支持markdown文章编写和工具分享功能

## 2. 核心功能模块

### 2.1 用户管理模块
- **注册功能**：支持邮箱/手机号注册
- **登录功能**：支持账号密码登录
- **个人信息管理**：修改头像、昵称、密码等
- **权限管理**：区分普通用户和管理员角色

### 2.2 文章管理模块
- **文章发布**：支持markdown格式编写，实时预览
- **文章编辑**：支持修改已发布文章
- **文章删除**：支持删除自己发布的文章
- **文章分类**：支持按分类管理文章
- **文章标签**：支持为文章添加标签
- **文章列表**：支持分页、排序、筛选
- **文章详情**：支持markdown渲染展示
- **文章搜索**：支持按标题、内容、标签搜索

### 2.3 工具分享模块
- **工具发布**：支持发布工具信息（名称、描述、链接、分类等）
- **工具编辑**：支持修改已发布工具
- **工具删除**：支持删除自己发布的工具
- **工具分类**：支持按分类管理工具
- **工具标签**：支持为工具添加标签
- **工具列表**：支持分页、排序、筛选
- **工具详情**：支持展示工具详细信息
- **工具搜索**：支持按名称、描述、标签搜索

### 2.4 评论模块
- **文章评论**：支持对文章进行评论
- **工具评论**：支持对工具进行评论
- **评论回复**：支持回复评论
- **评论管理**：支持删除自己的评论

### 2.5 分类与标签模块
- **分类管理**：支持创建、编辑、删除分类（管理员）
- **标签管理**：支持创建、编辑、删除标签（管理员）
- **分类展示**：支持按分类浏览文章和工具
- **标签展示**：支持按标签浏览文章和工具

### 2.6 首页展示模块
- **最新文章**：展示最新发布的文章
- **热门工具**：展示热门工具
- **分类导航**：提供分类导航入口
- **搜索功能**：提供全站搜索功能

## 3. 技术框架

### 3.1 前端技术栈
- **框架**：Vue 3
- **构建工具**：Vite
- **路由**：Vue Router
- **状态管理**：Pinia
- **UI组件库**：Element Plus
- **Markdown编辑器**：Vditor
- **HTTP客户端**：Axios

### 3.2 后端技术栈
- **框架**：Spring Boot 4.0.x
- **JDK版本**：JDK 25
- **ORM框架**：MyBatis-Plus
- **数据库**：MySQL 8.0+
- **缓存**：Redis
- **认证授权**：JWT + Spring Security
- **构建工具**：Maven
- **API文档**：Swagger3

## 4. 数据库设计

### 4.1 用户表（user）
- id：主键
- username：用户名
- password：密码（加密存储）
- email：邮箱
- phone：手机号
- avatar：头像
- role：角色（user/admin）
- created_at：创建时间
- updated_at：更新时间

### 4.2 文章表（article）
- id：主键
- title：标题
- content：内容（markdown格式）
- html_content：渲染后的HTML内容
- user_id：作者ID（外键）
- category_id：分类ID（外键）
- view_count：浏览量
- comment_count：评论数
- created_at：创建时间
- updated_at：更新时间

### 4.3 工具表（tool）
- id：主键
- name：工具名称
- description：工具描述
- url：工具链接
- user_id：发布者ID（外键）
- category_id：分类ID（外键）
- view_count：浏览量
- comment_count：评论数
- created_at：创建时间
- updated_at：更新时间

### 4.4 分类表（category）
- id：主键
- name：分类名称
- type：分类类型（article/tool）
- created_at：创建时间
- updated_at：更新时间

### 4.5 标签表（tag）
- id：主键
- name：标签名称
- created_at：创建时间

### 4.6 文章标签关联表（article_tag）
- article_id：文章ID（外键）
- tag_id：标签ID（外键）

### 4.7 工具标签关联表（tool_tag）
- tool_id：工具ID（外键）
- tag_id：标签ID（外键）

### 4.8 评论表（comment）
- id：主键
- content：评论内容
- user_id：评论者ID（外键）
- target_id：目标ID（文章ID或工具ID）
- target_type：目标类型（article/tool）
- parent_id：父评论ID（用于回复）
- created_at：创建时间
- updated_at：更新时间

## 5. 前后端接口设计

### 5.1 用户相关接口
- POST /api/user/register：用户注册
- POST /api/user/login：用户登录
- GET /api/user/info：获取用户信息
- PUT /api/user/info：更新用户信息
- PUT /api/user/password：修改密码

### 5.2 文章相关接口
- POST /api/article：创建文章
- GET /api/article：获取文章列表
- GET /api/article/{id}：获取文章详情
- PUT /api/article/{id}：更新文章
- DELETE /api/article/{id}：删除文章

### 5.3 工具相关接口
- POST /api/tool：创建工具
- GET /api/tool：获取工具列表
- GET /api/tool/{id}：获取工具详情
- PUT /api/tool/{id}：更新工具
- DELETE /api/tool/{id}：删除工具

### 5.4 评论相关接口
- POST /api/comment：创建评论
- GET /api/comment：获取评论列表
- DELETE /api/comment/{id}：删除评论

### 5.5 分类相关接口
- POST /api/category：创建分类
- GET /api/category：获取分类列表
- PUT /api/category/{id}：更新分类
- DELETE /api/category/{id}：删除分类

### 5.6 标签相关接口
- POST /api/tag：创建标签
- GET /api/tag：获取标签列表
- PUT /api/tag/{id}：更新标签
- DELETE /api/tag/{id}：删除标签

## 6. 项目实施计划

### 6.1 阶段一：项目初始化
- 搭建前端Vue 3 + Vite项目
- 搭建后端Spring Boot 4项目
- 配置数据库和Redis
- 实现用户注册、登录功能

### 6.2 阶段二：核心功能开发
- 实现文章发布、编辑、删除功能
- 实现工具分享、编辑、删除功能
- 实现分类和标签管理功能

### 6.3 阶段三：功能完善
- 实现评论功能
- 实现搜索功能
- 实现首页展示功能

### 6.4 阶段四：测试和优化
- 单元测试
- 集成测试
- 性能优化
- 安全加固

## 7. 预期成果
- 一个功能完整的博客网站，支持markdown文章发布和工具分享
- 前后端代码结构清晰，易于维护和扩展
- 系统稳定、高效、安全
- 良好的用户体验
